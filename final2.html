<!DOCTYPE html>
<html lang="en">
    <head>
        <title> MVC2 API Project</title>
        <meta charset="utf-8">
        <link rel="stylesheet"href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1">

    </head>
    <body>

<nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">
        <img src="MVC2logo.png" alt="Logo here" width="50" height="25"  class="d-inline-block align-text-top">
        MVC2 API Project
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="https://jamalazeez.github.io/final.html">Home</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Important links
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="https://docs.google.com/presentation/d/1XuKvS0FIkHCDQLVbtCEt6KsFFynqmrt-NxzoDjy86KY/edit?slide=id.p#slide=id.p">Google Slide</a></li>
            <li><a class="dropdown-item" href="#">Demo Video</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>

<ul id="movelist" class="list-group"></ul>

<template id="move-template">
<li class="list-group-item move-item"></li>
</template>

<h2 id="hero-name"></h2>

<script>

var parameters = new URLSearchParams(window.location.search);
var characterName = parameters.get("name");

document.getElementById("hero-name").textContent = characterName;

fetch(`https://marvel-vs-capcom-2.p.rapidapi.com/characters/${characterName}/moves`, {
method: "GET",
headers: 
{
"x-rapidapi-host": "marvel-vs-capcom-2.p.rapidapi.com",
"x-rapidapi-key": "4a407ac26amsh7d15685e9b77b9ep15f9e7"
}
})
.then(res => res.json())
.then(data => 
{
const container = document.getElementById("movelist");
const template = document.getElementById("move-template");


data.forEach(move => 
{
img.src = `https://marvel-vs-capcom-2.p.rapidapi.com${move.image}`;
img.alt = move.move_name;
span.textContent = move.move_name;
});
});
</script>

</body>
</html>